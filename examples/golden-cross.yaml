# Golden Cross Strategy
# Classic moving average crossover strategy

$schema: https://obichan117.github.io/universal-trading-strategy-schema/schema/v1/strategy.json

info:
  id: golden_cross
  name: Golden Cross Strategy
  version: "1.0"
  description: |
    Trend-following strategy using SMA(50) and SMA(200) crossover.
    Golden Cross (buy): SMA(50) crosses above SMA(200)
    Death Cross (sell): SMA(50) crosses below SMA(200)
  tags:
    - trend-following
    - moving-average
    - crossover
  visibility: public

universe:
  type: screener
  base: SP500

signals:
  sma_50:
    type: indicator
    indicator: SMA
    params:
      period: 50

  sma_200:
    type: indicator
    indicator: SMA
    params:
      period: 200

rules:
  - name: Golden Cross - Buy
    description: Buy when SMA(50) crosses above SMA(200)
    when:
      # Cross above: was below or equal yesterday, is above today
      type: expr
      formula: "SMA(50)[-1] <= SMA(200)[-1] and SMA(50) > SMA(200)"
    then:
      type: trade
      direction: buy
      sizing:
        type: percent_of_equity
        percent: 5

  - name: Death Cross - Sell
    description: Sell when SMA(50) crosses below SMA(200)
    when:
      # Cross below: was above or equal yesterday, is below today
      type: expr
      formula: "SMA(50)[-1] >= SMA(200)[-1] and SMA(50) < SMA(200)"
    then:
      type: trade
      direction: sell
      sizing:
        type: percent_of_position
        percent: 100

constraints:
  max_positions: 10
  max_position_size: 10
  trailing_stop:
    percent: 10
  no_shorting: true

schedule:
  frequency: daily
  market_hours_only: true
